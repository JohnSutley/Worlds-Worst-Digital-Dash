                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.4.1 #14650 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module reader
                                      6 	.optsdcc -msm83
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _main
                                     12 	.globl _printf
                                     13 	.globl _gotoxy
                                     14 ;--------------------------------------------------------
                                     15 ; special function registers
                                     16 ;--------------------------------------------------------
                                     17 ;--------------------------------------------------------
                                     18 ; ram data
                                     19 ;--------------------------------------------------------
                                     20 	.area _DATA
                                     21 ;--------------------------------------------------------
                                     22 ; ram data
                                     23 ;--------------------------------------------------------
                                     24 	.area _INITIALIZED
                                     25 ;--------------------------------------------------------
                                     26 ; absolute external ram data
                                     27 ;--------------------------------------------------------
                                     28 	.area _DABS (ABS)
                                     29 ;--------------------------------------------------------
                                     30 ; global & static initialisations
                                     31 ;--------------------------------------------------------
                                     32 	.area _HOME
                                     33 	.area _GSINIT
                                     34 	.area _GSFINAL
                                     35 	.area _GSINIT
                                     36 ;--------------------------------------------------------
                                     37 ; Home
                                     38 ;--------------------------------------------------------
                                     39 	.area _HOME
                                     40 	.area _HOME
                                     41 ;--------------------------------------------------------
                                     42 ; code
                                     43 ;--------------------------------------------------------
                                     44 	.area _CODE
                                     45 ;reader.c:10: void main()
                                     46 ;	---------------------------------
                                     47 ; Function main
                                     48 ; ---------------------------------
    00000000                         49 _main::
    00000000 3B               [ 8]   50 	dec	sp
                                     51 ;reader.c:15: SW = (p[0]);
    00000001 21 FF 7F         [12]   52 	ld	hl, #0x7fff
    00000004 4E               [ 8]   53 	ld	c, (hl)
                                     54 ;reader.c:16: gotoxy(XPOS,YPOS);
    00000005 C5               [16]   55 	push	bc
    00000006 21 06 08         [12]   56 	ld	hl, #0x806
    00000009 E5               [16]   57 	push	hl
    0000000A CDr00r00         [24]   58 	call	_gotoxy
    0000000D E1               [12]   59 	pop	hl
    0000000E C1               [12]   60 	pop	bc
                                     61 ;reader.c:17: printf("MPH: %u", SW);
    0000000F 06 00            [ 8]   62 	ld	b, #0x00
    00000011 C5               [16]   63 	push	bc
    00000012 11r57r00         [12]   64 	ld	de, #___str_0
    00000015 D5               [16]   65 	push	de
    00000016 CDr00r00         [24]   66 	call	_printf
    00000019 E8 04            [16]   67 	add	sp, #4
                                     68 ;reader.c:18: while(1)
    0000001B 0E 00            [ 8]   69 	ld	c, #0x00
    0000001D                         70 00104$:
                                     71 ;reader.c:20: SW = (p[0]);
    0000001D FA FF 7F         [16]   72 	ld	a, (#0x7fff)
    00000020 F8 00            [12]   73 	ldhl	sp,	#0
    00000022 77               [ 8]   74 	ld	(hl), a
                                     75 ;reader.c:21: if (SW != change)
    00000023 79               [ 4]   76 	ld	a, c
    00000024 F8 00            [12]   77 	ldhl	sp,	#0
    00000026 96               [ 8]   78 	sub	a, (hl)
    00000027 28 F4            [12]   79 	jr	Z, 00104$
                                     80 ;reader.c:23: gotoxy(XPOS,YPOS);
    00000029 21 06 08         [12]   81 	ld	hl, #0x806
    0000002C E5               [16]   82 	push	hl
    0000002D CDr00r00         [24]   83 	call	_gotoxy
    00000030 E1               [12]   84 	pop	hl
                                     85 ;reader.c:24: printf("MPH:    ");
    00000031 11r5Fr00         [12]   86 	ld	de, #___str_1
    00000034 D5               [16]   87 	push	de
    00000035 CDr00r00         [24]   88 	call	_printf
    00000038 E1               [12]   89 	pop	hl
                                     90 ;reader.c:25: gotoxy(XPOS,YPOS);
    00000039 21 06 08         [12]   91 	ld	hl, #0x806
    0000003C E5               [16]   92 	push	hl
    0000003D CDr00r00         [24]   93 	call	_gotoxy
    00000040 E1               [12]   94 	pop	hl
                                     95 ;reader.c:26: printf("MPH: %u", SW);
    00000041 F8 00            [12]   96 	ldhl	sp,	#0
    00000043 4E               [ 8]   97 	ld	c, (hl)
    00000044 AF               [ 4]   98 	xor	a, a
    00000045 47               [ 4]   99 	ld	b, a
    00000046 C5               [16]  100 	push	bc
    00000047 11r57r00         [12]  101 	ld	de, #___str_0
    0000004A D5               [16]  102 	push	de
    0000004B CDr00r00         [24]  103 	call	_printf
    0000004E E8 04            [16]  104 	add	sp, #4
                                    105 ;reader.c:27: change = SW;
    00000050 F8 00            [12]  106 	ldhl	sp,	#0
    00000052 4E               [ 8]  107 	ld	c, (hl)
    00000053 18 C8            [12]  108 	jr	00104$
                                    109 ;reader.c:30: }
    00000055 33               [ 8]  110 	inc	sp
    00000056 C9               [16]  111 	ret
    00000057                        112 ___str_0:
    00000057 4D 50 48 3A 20 25 75   113 	.ascii "MPH: %u"
    0000005E 00                     114 	.db 0x00
    0000005F                        115 ___str_1:
    0000005F 4D 50 48 3A 20 20 20   116 	.ascii "MPH:    "
             20
    00000067 00                     117 	.db 0x00
                                    118 	.area _CODE
                                    119 	.area _INITIALIZER
                                    120 	.area _CABS (ABS)
